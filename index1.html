<!DOCTYPE html>
<html>

<head>
    <title>Fibonacci Calculator</title>
</head>

<body>
    <h1>Fibonacci Calculator</h1>
    <div>
        <label for="value">Enter a number: </label>
        <input type="number" id="value" />
        <button id="calculate">Calculate Fibonacci</button>
    </div>
    <div>
        <p>Result: <span id="result">N/A</span></p>
        <p>Execution Time (ms): <span id="period">N/A</span></p>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const valueInput = document.getElementById('value');
            const calculateButton = document.getElementById('calculate');
            const resultSpan = document.getElementById('result');
            const periodSpan = document.getElementById('period');

            calculateButton.addEventListener('click', function () {
                const value = parseInt(valueInput.value);
                const starttime = new Date().getTime();
                console.log('start time: ', starttime)

                function fibonacci(n) {
                    if (n <= 1) return n;
                    let fib = [0, 1]; // 存储斐波那契数列的数组
                    for (let i = 2; i < n; i++) {
                        fib[i] = fib[i - 1] + fib[i - 2]; // 计算下一个斐波那契数
                    }
                    return fib[n - 1]; // 返回第 n 个斐波那契数
                }

                const res = fibonacci(value);
                resultSpan.textContent = res;

                const endtime = new Date().getTime();
                console.log('end time: ', endtime)
                periodSpan.textContent = endtime - starttime;
            });
        });
    </script>
</body>

</html>